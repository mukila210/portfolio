var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))};define("clientinst",["require","exports"],function(n,t){function wt(){y=0;e()}function e(){var n,u,t,r;s&&clearTimeout(s);for(n in i)if(i.hasOwnProperty(n)){u=n!=_G.IG?_G.lsUrl.replace(_G.IG,n):_G.lsUrl;for(t in i[n])i[n].hasOwnProperty(t)&&(r=d+u+(_G.XLSOvr?"&f=6":"")+"&TYPE=Event."+t+"&DATA="+o("[")+i[n][t]+o("]"),kt(r)||(yt().src=r));delete i[n]}typeof f!="undefined"&&f.setTimeout&&(s=f.setTimeout(e,k))}function bt(){return _G!==undefined&&_G.EF!==undefined&&_G.EF.logsb!==undefined&&_G.EF.logsb===1}function kt(n){return bt()?ot(n,""):!1}function ot(n,t){var i="sendBeacon",r=!1;if(navigator&&navigator[i])try{navigator[i](n,t);r=!0}catch(u){}return r}function st(n){h("FilterFlare",null,null,"FilterFlare",!1,["queryTags",n.join(","),r,u+"F"])}function ht(n,t,i){n!==null&&n!==void 0?n:n={};n[r]=u+"LP";ct(n,i,t,null,"PartialDynamicContent.FrontDoor")}function ct(n,t,i,r,u){var h=(new Date).getTime().toString(),f,o,c,s,e;n.TS=h;f=["<ClientInstRequest>"];o=_G.CID||sj_cook.get("MUID","MUID");o&&f.push("<CID>",o,"<\/CID>");t&&(c=t.IID+"_"+t.SFX,f.push("<AppNS>",c,"<\/AppNS>"));f.push("<Events><E>");f.push("<T>Event.",u!==null&&u!==void 0?u:"ClientInst","<\/T>");f.push("<IG>",r||n.OvrIG||_G.IG,"<\/IG>");i&&f.push("<DS><![CDATA[",b(i),"]\]><\/DS>");t&&(f.push("<Page>"),f.push("<Name>",t.Name,"<\/Name>"),f.push("<Num>",t.Number,"<\/Num>"),f.push("<IID>",t.IID,"<\/IID>"),f.push("<SFX>",t.SFX,"<\/SFX>"),f.push("<L><![CDATA[",b(t.L),"]\]><\/L>","<\/Page>"));f.push("<D><![CDATA[",b(n),"]\]><\/D>","<TS>",h,"<\/TS>");f.push("<\/E><\/Events>");f.push("<\/ClientInstRequest>");s=f.join("");ot(_G.XLS,s)||(e=sj_gx(),e.open("POST",_G.XLS),e.setRequestHeader("Content-type","text/xml"),e.send(s))}function lt(n,t,i,f,e,o){var s,h=__assign((s={T:n,FID:t,Name:i,Namespace:f,CustomDataKeys:Object.keys(e).join(",")},s[r]=u+"CD",s),e);ct(h,null,null,o)}function b(n){return JSON.stringify(n).replace(/]]>/g,"]]]\]><![CDATA[>")}var w,nt,it,rt,ut,ft;t.__esModule=!0;t.LogCustomData=t.LogPartialImpression=t.LogFilterFlare=t.Wrap=t.Log2=t.LogInstrumented=t.Log=t.LogCustomEvent=void 0;var f=n("env"),c=n("event.native"),l=n("event.custom"),o=encodeURIComponent,a="length",v="apply",k=2e3,at=2e3,y=0,s,d="",vt=_G.lsUrl+"&TYPE=Event.ClientInst&DATA=",p=location.hostname,g=p.match(/([^.]+\.[^.]*)$/);g&&(w=location.protocol,nt=w=="https:"?p.substring(0,p.indexOf(".")):"a4",d=w+"//"+nt+"."+g[0]);var i={},yt=function(){return new Image},u="V3-",r="SDK",tt;(function(n){n.Home="home";n.Search="search";n.Conversation="conversation";n.OffStage="off-stage";n.Notebook="notebook";n.GPTCreator="gpt-creator"})(tt||(tt={}));it=function(n,t,i,f){for(var o=[],e=4;e<arguments.length;e++)o[e-4]=arguments[e];o.push(r,u+"LC");h(n,t,i,n,f,o)};t.LogCustomEvent=it;rt=function(n,t,i,f){for(var o=[],e=4;e<arguments.length;e++)o[e-4]=arguments[e];o.push(r,u+"L");h(n,t,i,"ClientInst",f,o)};t.Log=rt;ut=function(n,i,f,e,o,s,h){h!==null&&h!==void 0?h:h={};h[r]=u+"LI";t.Log2(n,i!==null&&i!==void 0?i:f,null,null,e,o,h)};t.LogInstrumented=ut;ft=function(n,t,i,f,e,o,s){var c=Object.keys(s).reduce(function(n,t){return __spreadArray(__spreadArray([],n,!0),[t,s[t]],!1)},[]);i&&c.push("service",i);f&&c.push("scenario",f);e&&c.push("appNS",e);o&&c.push("kValue",o);s[r]||c.push(r,u+"L2");h(n,null,t,"ClientInst",!1,c)};t.Log2=ft;var h=function(n,t,i,r,u,o){y||(et("Init","CI","Base","ClientInst",!1),typeof f!="undefined"&&f.setTimeout&&(s=f.setTimeout(e,k)),y=1,typeof c!="undefined"&&c.bind&&c.bind(window,"beforeunload",e,!1),typeof l!="undefined"&&l.bind&&l.bind("unload",function(){wt()},!1));et(n,t,i,r,u,o)},et=function(n,t,r,u,f,s){var k,d,c=_G.IG,h={},p,w,l,v,g,b,y;if(s&&s.length>0&&s.length%2==0)for(p=0;p<s.length;p+=2)(w=s[p],w)&&(l=w.toLowerCase(),v=s[p+1],l==="impressionguid"?c=v:l==="service"?h.Service=v:l==="scenario"?h.Scenario=v:l==="appns"?h.AppNS=v:l==="k"||l==="kvalue"?h.K=v:l==="pos"?h.Pos=v:h[w]=v);c=(d=h.OvrIG)!==null&&d!==void 0?d:c;g=(new Date).getTime();h.T="CI.".concat(n);h.TS=g;h.Name=r!==null&&r!==void 0?r:"";h.FID=typeof t!="number"?t!==null&&t!==void 0?t:"":"";h.hasOwnProperty("K")||typeof t!="number"||(h.K=t);b=o(JSON.stringify(h));y=i[c]&&i[c][u]||"";vt[a]+y[a]+b[a]>=at&&(e(),y="");i.hasOwnProperty(c)?i[c][u]=y+o(y?",":"")+b:i[c]=(k={},k[u]=y+o(y?",":"")+b,k);f&&e()},pt=function(n,t,i,r){var u=n[t];n[t]=function(){var n=arguments,e,t,f;if(r&&i[v](this,n),e=u[v](this,n),!r){for(t=[],f=0;f<n.length;f++)t.push(n[f]);t.push(e);i[v](this,t)}return e}};t.Wrap=pt;t.LogFilterFlare=st;t.LogPartialImpression=ht;t.LogCustomData=lt;window.Log={LogCustomEvent:t.LogCustomEvent,Log:t.Log,Wrap:t.Wrap,LogFilterFlare:st,LogCustomData:lt};window.Shared2=window.Shared2||{};window.Shared2.Log={LogCustomEvent:t.LogCustomEvent,Log:t.Log,Wrap:t.Wrap,LogInstrumented:t.LogInstrumented};window.sj_log2=t.Log2;window.cspi_log=ht})